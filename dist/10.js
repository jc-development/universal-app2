webpackJsonp([10],{1038:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(2),i=n(a),s=r(133),u=r(209),c=n(r(201)),l=n(r(1051)),f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.state={shopifyURL:"https://winners-choice-strings.myshopify.com/cart/",newTab:!1},r.cartAjaxLoader=null,r.iframeObject=null,r.iframeLoaded=r.iframeLoaded.bind(r),r.closeCheckout=r.closeCheckout.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),o(e,[{key:"componentDidMount",value:function(){var t=this;this.iframeObject=document.getElementById("checkout-frame"),this.cartAjaxLoader=document.querySelector(".cart-ajax-loader"),c.default.set(this.cartAjaxLoader,{autoAlpha:1}),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),navigator.userAgent.indexOf("Safari"),navigator.userAgent.indexOf("Chrome"),this.setState({newTab:!0},function(){return this.state});var e=this.props.cartItems.map(function(t,e){return t.variantId+":1"}),r=this.props.cartItems.map(function(t,e){return void 0!==t.string1ColorPatterns?"?attributes[bowBrandSelected"+e+"]="+t.bowBrandSelected+"&attributes[bowModelSelected"+e+"]="+t.bowModelSelected+"&attributes[bowType"+e+"]="+t.bowType+"&attributes[stringLength"+e+"]="+t.stringLength+"&attributes[material"+e+"]="+t.currentMaterial+"&attributes[color1Name"+e+"]="+t.string1ColorPatterns.attributes.name+"&attributes[color2Name"+e+"]="+t.string2ColorPatterns.attributes.name+"&attributes[colorServingName"+e+"]="+t.servingColorPatterns.attributes.name+"&attributes[stringSet"+e+"]="+t.selectedStringCableSet+"&attributes[stringCustomizationLevel"+e+"]="+t.stringCustomizationLevel+"&attributes[price"+e+"]="+t.price+"&attributes[notesToBuilder"+e+"]="+t.notes:null}),n=(0,l.default)(r,null),o="https://winners-choice-strings.myshopify.com/cart/"+e.join()+n.join();this.setState({shopifyURL:o},function(){return t.state})}},{key:"openNewTab",value:function(){window.open(this.state.shopifyURL,"_blank").focus()}},{key:"iframeLoaded",value:function(){c.default.to(this.cartAjaxLoader,.25,{autoAlpha:0})}},{key:"closeCheckout",value:function(){this.iframeObject.data="",u.browserHistory.goBack()}},{key:"render",value:function(){return!0===this.state.newTab&&(this.openNewTab(),u.browserHistory.goBack()),i.default.createElement("div",null,i.default.createElement("button",{onClick:this.closeCheckout,className:"btn btn-checkout-close"},"Close Checkout"),this.state.newTab?"":i.default.createElement("img",{className:"cart-ajax-loader",src:"https://s3.amazonaws.com/string-builder/website-images/cart-ajax-loader.gif",role:"presentation"}),this.state.newTab?"":i.default.createElement("object",{id:"checkout-frame",ref:"iframe",data:this.state.shopifyURL,onLoad:this.iframeLoaded}))}}]),e}();e.default=(0,s.connect)(function(t){return{cartItems:t.cartState.items}})(f)},1051:function(t,e,r){var n=r(1052),o=r(134),a=r(1054),i=o(function(t,e){return a(t)?n(t,e):[]});t.exports=i},1052:function(t,e,r){var n=r(473),o=r(478),a=r(1053),i=r(477),s=r(468),u=r(474);t.exports=function(t,e,r,c){var l=-1,f=o,b=!0,d=t.length,h=[],p=e.length;if(!d)return h;r&&(e=i(e,s(r))),c?(f=a,b=!1):e.length>=200&&(f=u,b=!1,e=new n(e));t:for(;++l<d;){var m=t[l],g=null==r?m:r(m);if(m=c||0!==m?m:0,b&&g==g){for(var y=p;y--;)if(e[y]===g)continue t;h.push(m)}else f(e,g,c)||h.push(m)}return h}},1053:function(t,e){t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},1054:function(t,e,r){var n=r(94),o=r(71);t.exports=function(t){return o(t)&&n(t)}}});
//# sourceMappingURL=10.js.map